page << "$('#practice_dialog').html('#{escape_javascript render :partial => 'dialog_form'}');"
page << "$('#practice_dialog').attr('title','New practice');"
page << %(
  $('#practice_dialog').dialog({
    autoOpen: true,
    height: 460,
    width: 390,
    modal: true,
    buttons: {
      Save: function() {
        $.ajax({
            type:'post',
            dataType: 'script',
            data: $('#practice_dialog form').serialize(),
            url: $('#practice_dialog form').attr('action'),
            success: function() {
              $('#practice_dialog').dialog('close');
            }
        });
      },
      Cancel: function() {
        $('#practice_dialog').dialog('close');
      }
    }
  });
)
