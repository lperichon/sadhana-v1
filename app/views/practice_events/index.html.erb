<div id='calendar'></div>
<%= javascript_tag do %>
$('#calendar').fullCalendar({
  header: {
    left: 'prev',
    center: 'title',
    right: 'next'
  },
  theme: 'ui-lightning',
  editable: false,
  events: [
    <% events_array = [] %>
    <% @practice_events.each do |event| %>
      <% events_array << js_event(event) %>
    <% end %>
    <%= events_array.join(',') %>
  ],
  eventClick: function( event, jsEvent, view ) {
    $('#calendar').fullCalendar( 'removeEvents', event.id );
    $.ajax({
      type:'get',
      dataType: 'script',
      url: '/practice_events/' + event.id + '/edit'
    });
  },
  dayClick: function( date, allDay, jsEvent, view ) {
    $.ajax({
      type:'get',
      dataType: 'script',
      url: '/practice_events/new'
    });
  },
  monthNames: [<%= I18n.t("date.month_names").reject {|month| month == nil}.collect {|month|"'#{month}'"}.join(',') %>],
  monthNamesShort: [<%= I18n.t("date.abbr_month_names").reject {|month| month == nil}.collect {|month|"'#{month}'"}.join(',') %>],
  dayNames: [<%= I18n.t("date.day_names").reject {|month| month == nil}.collect {|month|"'#{month}'"}.join(',') %>],
  dayNamesShort: [<%= I18n.t("date.abbr_day_names").reject {|month| month == nil}.collect {|month|"'#{month}'"}.join(',') %>]
});
<% end %>
<%= render :partial => 'shared/confirm_dialog' %>
<%= render :partial => 'shared/new_event_dialog' %>
<%= render :partial => 'shared/edit_event_dialog' %>